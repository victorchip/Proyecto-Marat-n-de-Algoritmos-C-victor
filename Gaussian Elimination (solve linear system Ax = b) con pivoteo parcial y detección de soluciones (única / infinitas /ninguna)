#include <bits/stdc++.h>
using namespace std;
using ld = double;
const ld EPS = 1e-9;

int main(){
    ios::sync_with_stdio(false);
    cin.tie(nullptr);
    int n,m; // we will read n rows and m columns (unknowns = m)
    if(!(cin>>n>>m)) return 0;
    vector<vector<ld>> a(n, vector<ld>(m+1));
    for(int i=0;i<n;++i) for(int j=0;j<=m;++j) cin>>a[i][j];
    int row = 0;
    vector<int> where(m, -1);
    for(int col=0; col<m && row<n; ++col){
        int sel = row;
        for(int i=row;i<n;++i) if(fabs(a[i][col]) > fabs(a[sel][col])) sel = i;
        if(fabs(a[sel][col]) < EPS) continue;
        swap(a[sel], a[row]);
        where[col] = row;
        ld pivot = a[row][col];
        for(int j=col;j<=m;++j) a[row][j] /= pivot;
        for(int i=0;i<n;++i) if(i!=row){
            ld factor = a[i][col];
            for(int j=col;j<=m;++j) a[i][j] -= factor * a[row][j];
        }
        ++row;
    }
    // check consistency
    vector<ld> ans(m, 0);
    for(int i=0;i<m;++i) if(where[i]!=-1) ans[i] = a[where[i]][m];
    for(int i=0;i<n;++i){
        ld sum = 0;
        for(int j=0;j<m;++j) sum += ans[j] * a[i][j];
        if(fabs(sum - a[i][m]) > 1e-6){ cout<<"NO SOLUTION\n"; return 0; }
    }
    bool infinite = false;
    for(int i=0;i<m;++i) if(where[i]==-1) infinite = true;
    if(infinite) cout<<"INFINITE SOLUTIONS (one possible solution shown)\n";
    else cout<<"UNIQUE SOLUTION\n";
    cout.setf(std::ios::fixed); cout<<setprecision(9);
    for(int i=0;i<m;++i) cout<<ans[i]<<(i+1==m?'\n':' ');
    return 0;
}

